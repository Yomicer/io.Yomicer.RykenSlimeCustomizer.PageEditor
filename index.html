<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>RykenSlimeCustomizer 编辑器</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        .wide-label {
            width: 250px;
            /* 设置你想要的宽度 */
            display: inline-block;
            /* 确保设置了宽度后，label能按照设定的宽度显示 */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 20px;
            background-color: #ffffff;
            border-bottom: 1px solid #ddd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        /* Tab 切换样式 */
        .tabs {
            overflow: hidden;
            background-color: #ffffff;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .tabs button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: all 0.3s ease;
            font-size: 16px;
            color: #555;
        }

        .tabs button:hover {
            background-color: #f1f1f1;
        }

        .tabs button.active {
            background-color: transparent;
            color: #007bff;
            border-bottom: 2px solid #007bff;
            font-weight: bold;
        }

        /* 内容部分切换 */
        .content {
            display: none;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.2em;
        }

        label {
            display: inline-block;
            width: 180px;
            vertical-align: top;
            font-weight: 500;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 300px;
            padding: 8px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            margin-left: 10px;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }

        /* 特殊项间距 */
        .custom-margin {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        button {
            padding: 6px 12px;
            font-size: 14px;
            border: none;
            border-radius: 4px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin: 5px 0;
        }

        button:hover {
            background-color: #0056b3;
        }

        .recipe-item,
        .lore-item {
            margin-top: 6px;
        }

        .advanced-options .form-group {
            margin-bottom: 1.2em;
            padding-top: 0.5em;
            border-top: 1px dashed #e0e0e0;
        }

        .lore-input-container,
        .recipe-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lore-input-container input,
        .recipe-item input,
        .recipe-item select {
            margin: 0 !important;
            width: auto;
            flex-grow: 1;
        }

        .lore-input-container button,
        .recipe-item button {
            margin-left: 10px;
            background-color: #dc3545;
        }

        .lore-input-container button:hover,
        .recipe-item button:hover {
            background-color: #c82333;
        }

        pre {
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 6px;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            label {
                display: block;
                width: 100%;
                margin-bottom: 6px;
            }

            input[type="text"],
            input[type="number"],
            select {
                width: 100%;
                margin-left: 0;
            }

            .lore-input-container,
            .recipe-item {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>RykenSlimeCustomizer 编辑器</h1>
    </div>

    <div class="tabs">
        <button class="tablinks" onclick="openContent(event, 'Content1')">item.yml</button>
        <button class="tablinks" onclick="openContent(event, 'Content2')">敬请期待...</button>
    </div>

    <div id="Content1" class="content active">
        <h2 class="section-title">item.yml</h2>
        <!-- 表单开始 -->
        <form id="configForm">
            <!-- 物品ID -->
            <label for="itemIdInput" class="wide-label">物品ID(大写字母/下划线/数字):</label>
            <input id="itemIdInput" type="text" placeholder="例如：MAGIC_ITEM_1"><br><br>

            <!-- 别名设置 -->
            <label for="aliasEnabled" class="wide-label">启用别名(大写字母/下划线/数字):</label>
            <input id="aliasInput" type="text" placeholder="别名（空默认不填写）"><br><br>

            <!-- lateInit 设置 -->
            <label for="lateInitSelect">最后加载:</label>
            <select id="lateInitSelect">
                <option value="false">false</option>
                <option value="true">true</option>
            </select><br><br>

            <!-- 注册条件 -->
            <h4>注册条件：</h4>
            <label for="hasPluginInput">依赖于插件</label>
            <input id="hasPluginInput" type="text" placeholder="hasplugin MagicExpansion(空默认不填写)"><br>
            <label for="notHasPluginInput">与插件冲突:</label>
            <input id="notHasPluginInput" type="text" placeholder="!hasplugin MagicExpansion(空默认不填写)"><br>
            <label for="versionConditionInput">版本条件:</label>
            <input id="versionConditionInput" type="text" placeholder=">= 1.16(空默认不填写)"><br>
            <label for="configBooleanInput">Boolean类型config判断:</label>
            <input id="configBooleanInput" type="text" placeholder="someSetting(空默认不填写)"><br>
            <label for="configIntInput">Int类型config判断:</label>
            <input id="configIntInput" type="text" placeholder="someNumber >= 5(空默认不填写)"><br>
            <label for="configStringInput">String类型config判断:</label>
            <input id="configStringInput" type="text" placeholder="someKey someValue(空默认不填写)"><br><br>
            <label for="itemIfExist">基于某粘液物品注册:</label>
            <input id="itemIfExist" type="text" placeholder="MAGIC_ITEM_1(空默认不填写)"><br><br>

            <!-- 基础设置 -->
            <label for="itemTypeSelect">物品类型:</label>
            <select id="itemTypeSelect">
                <option value="mc">原版物品</option>
                <option value="skull_base64">skull_base64</option>
                <option value="skull_url">skull_url</option>
                <option value="skull_hash">skull_hash</option>
                <option value="slimefun">粘液物品</option>
                <option value="saveditem">保存物品</option>
            </select><br>
            <label for="materialInput">材质:</label>
            <input id="materialInput" type="text" value="diamond" placeholder="材质（如 DIAMOND）"><br><br>

            <label for="materialName">物品名字:</label>
            <input id="materialName" type="text" value="&a魔法道具" placeholder="如&a魔法道具"><br><br>

            <label for="recipeTypeInput"> 配方类型:</label>
            <input id="recipeTypeInput" type="text" value="ENHANCED_CRAFTING_TABLE" placeholder="请输入配方类型"><br><br>

            <label for="itemGroupInput">物品组别:</label>
            <input id="itemGroupInput" type="text" value="magic_group_1" readonly><br>
            <label for="placeableInput">是否可以放置:</label>
            <input id="placeableInput" type="text" value="false" readonly><br><br>

            <!-- Lore 输入框容器 -->
            <div>
                <label>物品描述:</label>
                <button type="button" onclick="addLoreInput()">添加 Lore</button>
                <div id="loreInputs"></div>
            </div><br>

            <!-- Recipe 输入框容器 -->
            <div>
                <label>配方:</label>
                <button type="button" onclick="addRecipeInput()">添加条数</button>
                <div id="recipeInputs"></div>
            </div><br>

            <!-- 高级设置 -->
            <label for="energyCapacityInput">电容量:</label>
            <input id="energyCapacityInput" type="number" placeholder="容量最大为 2147483647"><br>
            <label for="radiationSelect">辐射强度:</label>
            <select id="radiationSelect">
                <option value="">请选择</option>
                <option value="VERY_DEADLY">极高</option>
                <option value="HIGH">高</option>
                <option value="LOW">低</option>
                <option value="MODERATE">中</option>
                <option value="VERY_DEADLY">致死的</option>
            </select><br>
            <label for="rainbowSelect">彩虹方块:</label>
            <select id="rainbowSelect">
                <option value="">请选择</option>
                <option value="GLASS_PANE">玻璃板</option>
                <option value="GLASS">玻璃</option>
                <option value="STAINED_GLASS">彩色玻璃</option>
                <option value="STAINED_GLASS_PANE">彩色玻璃板</option>
                <option value="WOOL">羊毛</option>
                <option value="TERRACOTTA">陶瓦</option>
                <option value="TERRACOTTA_ALL">所有陶瓦</option>
                <option value="GLAZED_TERRACOTTA">带釉陶瓦</option>
            </select><br>
            <label for="antiWitherSelect">防凋零爆炸:</label>
            <select id="antiWitherSelect">
                <option value="">请选择</option>
                <option value="true">是</option>
                <option value="false">否</option>
            </select><br>
            <label for="soulboundSelect">灵魂绑定:</label>
            <select id="soulboundSelect">
                <option value="">请选择</option>
                <option value="true">是</option>
                <option value="false">否</option>
            </select><br>
            <label for="piglinTradeChanceInput">猪灵物品交易概率:</label>
            <input id="piglinTradeChanceInput" type="number" placeholder="0-100"><br>
            <label for="vanillaSelect">人造类物品:</label>
            <select id="vanillaSelect">
                <option value="">请选择</option>
                <option value="true">是</option>
                <option value="false">否</option>
            </select><br>
            <label for="hiddenSelect">隐藏物品:</label>
            <select id="hiddenSelect">
                <option value="">请选择</option>
                <option value="true">是</option>
                <option value="false">否</option>
            </select><br>
            <label for="dropFromInput">方块掉落物品:</label>
            <input id="dropFromInput" type="text" placeholder="例如: diamond"><br>
            <label for="dropChanceInput">掉落概率:</label>
            <input id="dropChanceInput" type="number" placeholder="0-100"><br>
            <label for="dropAmountInput">掉落数量:</label>
            <input id="dropAmountInput" type="text" placeholder="1-3 可为区间或定值"><br><br>

            <!-- 生成按钮 -->
            <button type="button" onclick="generateYaml()">生成</button>
        </form>

        <!-- YAML预览区域 -->
        <div id="yamlPreview" style="border: 1px solid #ccc; padding: 10px; margin-top: 20px;">
            <h3>生成的配置预览：</h3>
            <pre id="yamlContent"></pre>
        </div>

    </div>

    <div id="Content2" class="content">
        <label for="dropFromInput" class="wide-label">看到这么好的网站该怎么做呢？</label>
        <select>
            <option value="">三连</option>
            <option value="">点赞</option>
            <option value="true">收藏</option>
            <option value="false">转发</option>
        </select>
        <br>
        <a href="https://space.bilibili.com/272421943" target="_blank" rel="noopener noreferrer"
            style="display: inline-block; padding: 8px 16px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px; text-align: center; margin: 8 auto;">
            点击跳转到我的B站主页
        </a>
    </div>

    <script>


        function openContent(evt, contentName) {
            // 隐藏所有内容区并移除其内的标题显示
            var contents = document.getElementsByClassName("content");
            for (var i = 0; i < contents.length; i++) {
                contents[i].classList.remove("active");
                var title = contents[i].querySelector(".section-title");
                if (title) title.style.display = "none"; // 确保标题默认隐藏
            }

            // 移除所有 tab 按钮的 active 类
            var tabs = document.getElementsByClassName("tablinks");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }

            // 显示当前点击的内容，并激活对应按钮
            var currentContent = document.getElementById(contentName);
            currentContent.classList.add("active");

            // 如果是 Content1，则显示标题
            if (contentName === "Content1") {
                var title = currentContent.querySelector(".section-title");
                if (title) title.style.display = "block";
            }

            evt.currentTarget.classList.add("active");
        }





        function generateYaml() {
            let yaml = '';

            const itemId = document.getElementById('itemIdInput')?.value.trim();
            if (!itemId) {
                alert("请输入物品ID");
                return;
            }
            yaml += `${itemId}:\n`;

            const aliasEnabled = document.getElementById('aliasEnabled')?.checked || false;
            const aliasInput = document.getElementById('aliasInput')?.value.trim();
            if (aliasEnabled && aliasInput) {
                yaml += `  id_alias: ${aliasInput}\n`;
            }

            const lateInit = document.getElementById('lateInitSelect')?.value.trim();
            if (lateInit) {
                yaml += `  lateInit: ${lateInit}\n`;
            }

            // register conditions
            const hasPlugin = document.getElementById('hasPluginInput')?.value.trim();
            const notHasPlugin = document.getElementById('notHasPluginInput')?.value.trim();
            const versionCond = document.getElementById('versionConditionInput')?.value.trim();
            const configBool = document.getElementById('configBooleanInput')?.value.trim();
            const configInt = document.getElementById('configIntInput')?.value.trim();
            const configStr = document.getElementById('configStringInput')?.value.trim();
            const itemIfExist = document.getElementById('itemIfExist')?.value.trim();

            if (hasPlugin || notHasPlugin || versionCond || configBool || configInt || configStr || itemIfExist) {
                yaml += `  register:\n`;
                yaml += `    warn: true\n`;
                yaml += `    conditions:\n`;
                if (hasPlugin) yaml += `      - "hasplugin ${hasPlugin}"\n`;
                if (notHasPlugin) yaml += `      - "!hasplugin ${notHasPlugin}"\n`;
                if (versionCond) yaml += `      - "version ${versionCond}"\n`;
                if (configBool) yaml += `      - "config.boolean ${configBool}"\n`;
                if (configInt) yaml += `      - "config.int ${configInt}"\n`;
                if (configStr) yaml += `      - "config.string ${configStr}"\n`;
                if (itemIfExist) yaml += `      - "itemexist ${configStr}"\n`;
            }

            const itemType = document.getElementById('itemTypeSelect')?.value.trim();
            const material = document.getElementById('materialInput')?.value.trim();
            const name = document.getElementById('materialName')?.value.trim();
            if (itemType && material) {
                yaml += `  item:\n`;
                yaml += `    material_type:: ${itemType}\n`;
                yaml += `    material: ${material}\n`;
                yaml += `    name: ${name}\n`;
            }

            const recipeType = document.getElementById('recipeTypeInput')?.value.trim();
            if (recipeType) {
                yaml += `  recipe_type: ${recipeType}\n`;
            }

            const itemGroup = document.getElementById('itemGroupInput')?.value.trim();
            if (itemGroup) {
                yaml += `  item_group: ${itemGroup}\n`;
            }

            const placeable = document.getElementById('placeableInput')?.value.trim();
            if (placeable !== undefined) {
                yaml += `  placeable: ${placeable}\n`;
            }

            const loreInputs = document.querySelectorAll("#loreInputs .lore-input");
            if (loreInputs.length > 0) {
                yaml += `  lore:\n`;
                loreInputs.forEach(input => {
                    const val = input.value.trim();
                    if (val) {
                        yaml += `    - \"${val}\"\n`;
                    }
                });
            }

            const recipeItems = document.querySelectorAll("#recipeInputs .recipe-item");
            if (recipeItems.length > 0) {
                yaml += `  recipe:\n`;
                recipeItems.forEach((item, index) => {
                    const select = item.querySelector("select");
                    const input = item.querySelector("input[type='text']");
                    if (select && input) {
                        const type = select.value.trim();
                        const mat = input.value.trim();
                        if (type && mat) {
                            yaml += `    ${index + 1}:\n`;
                            yaml += `      material_type: ${type}\n`;
                            yaml += `      material: ${mat}\n`;
                        }
                    }
                });
            }

            const getOptionalValue = (id) => {
                const el = document.getElementById(id);
                return el ? el.value.trim() : '';
            };

            const energyCapacity = getOptionalValue('energyCapacityInput');
            if (energyCapacity) yaml += `  energy_capacity: ${energyCapacity}\n`;

            const radiation = getOptionalValue('radiationSelect');
            if (radiation) yaml += `  radiation: ${radiation}\n`;

            const rainbow = getOptionalValue('rainbowSelect');
            if (rainbow) yaml += `  rainbow: ${rainbow}\n`;

            const antiWither = getOptionalValue('antiWitherSelect');
            if (antiWither) yaml += `  anti_wither: ${antiWither}\n`;

            const soulbound = getOptionalValue('soulboundSelect');
            if (soulbound) yaml += `  soulbound: ${soulbound}\n`;

            const piglinTradeChance = getOptionalValue('piglinTradeChanceInput');
            if (piglinTradeChance) yaml += `  piglin_trade_chance: ${piglinTradeChance}\n`;

            const vanilla = getOptionalValue('vanillaSelect');
            if (vanilla) yaml += `  vanilla: ${vanilla}\n`;

            const hidden = getOptionalValue('hiddenSelect');
            if (hidden) yaml += `  hidden: ${hidden}\n`;

            const dropFrom = getOptionalValue('dropFromInput');
            const dropChance = getOptionalValue('dropChanceInput');
            const dropAmount = getOptionalValue('dropAmountInput');

            if (dropFrom || dropChance || dropAmount) {
                if (dropFrom) yaml += `  drop_from: ${dropFrom}\n`;
                if (dropChance) yaml += `  drop_chance: ${dropChance}\n`;
                if (dropAmount) yaml += `  drop_amount: ${dropAmount}\n`;
            }

            document.getElementById('yamlContent').textContent = yaml;
        }

        function addLoreInput() {
            const loreInputs = document.getElementById('loreInputs');
            const div = document.createElement('div');
            div.className = 'lore-input-container';

            const input = document.createElement('input');
            input.type = 'text';
            input.placeholder = '请输入lore';
            input.className = 'lore-input';
            div.appendChild(input);

            const deleteButton = document.createElement('button');
            deleteButton.innerText = '删除';
            deleteButton.onclick = () => {
                loreInputs.removeChild(div);
            };
            div.appendChild(deleteButton);

            loreInputs.appendChild(div);
            loreInputs.appendChild(document.createElement('br'));
        }

        function addRecipeInput() {
            const recipeInputs = document.getElementById('recipeInputs');
            const div = document.createElement('div');
            div.className = 'recipe-item';

            const select = document.createElement('select');
            ['mc', 'slimefun', 'saveditem'].forEach(option => {
                const opt = document.createElement('option');
                opt.value = option;
                opt.textContent = option;
                select.appendChild(opt);
            });
            div.appendChild(select);

            const input = document.createElement('input');
            input.type = 'text';
            input.placeholder = '请输入material';
            div.appendChild(input);

            const deleteButton = document.createElement('button');
            deleteButton.innerText = '删除';
            deleteButton.onclick = () => {
                recipeInputs.removeChild(div);
            };
            div.appendChild(deleteButton);

            recipeInputs.appendChild(div);
            recipeInputs.appendChild(document.createElement('br'));
        }




    </script>

</body>

</html>